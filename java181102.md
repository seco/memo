타겟은 깃 이그노어에 추가

자동 생성되는 것은 깃에 올릴 필요가 없습니다.

DB 설정 값을 외부 설정 파일로 뽑아서 관리. public 깃헙에 올릴 때 

프로퍼티에 설정 해줄 것.

프로퍼티 파일도 깃허브에 올라가면 안된다. 

인터넷에 올릴 때 백업 파일을 올리면 안된다.

게터 세터 메서드를 만들었는데, 필드가 추가되면 게터 세터를 추가해야하고 필드가 빠지면 게터 세터가 빠져야한다. 이런 불편함을 해결해주는 것이 Lombok이라는 녀석이다. 

롬복 사용방법을 공부하자! (인텔리제이에서 사용하는 방법도 보자)

생성자 안에 파라미터가 너무 길다. 나중에 생성자 코드를 보면 헷갈린다. 이런 문제를 해결하려고 **이펙티브 자바**에서 빌더 패턴이라는 것을 사용해보자!  나는 어려워도 사용하는 사람은 쉽게 만드는 것이 좋다.

 : 이펙티브 자바 3판. (스터디로 좋을 것 같다) 바이블 중 하나다. 

답글인지 아닌지 확인하는 것은 비즈니스 로직이기 때문에 서비스다. 이상한 코드인지 아닌지 확인하는 것은 서비스에서! 

if(isReply) ~ 아래의 문장은 서비스에서! (비즈니스 기능이기 때문에, 조건에 따라 호출되냐 아니냐 하는 것)

Dao는 CRUD에서만! 

아티클 다오는 addArticle은 하나의 트렌젝션에서 일어나는 것. 

다오에서 Exception을 발생하면 null 하지말고 throws를 해주는 것이 좋다.

getArticleList 에 들어가는 쿼리를 다이나믹 sql이라고 한다.

읽어들이는 것만 할때는 트렌젝셔널에 readOnly를 붙여주자!

보통 api는 getMapping(/이부분은 복수형으로 나온다.)

조회하는 경우

/articles/id=1 이런 방식보다 /articles/1 이런 방식이 좋다.

-POST /articles(등록)

-GET /articles(목록조회)



나중에 API를 쓸 때는 

-PUT /articles 

이런 방식을 사용한다.

리다이렉트할 때는 플레시맵이라는 것을 사용한다.(Redirect FlashMap)

아니면 return "redirect/read?id=1" 

개인적으로 글읽기는 리다이렉트가 맞는 방식이라고 생각한다.

플레시맵은 리다이렉트 할 때 많은 정보를 보낼 때 사용한다.

파라미터는 용량 제한이 있다. 

하루에 다 만든다는 각오로 반복 연습을 한다. 반복 훈련!





id를 왜 Long으로 했을까? 객체 클래스 타입이기 때문에 null을 가질 수 있다. 사이즈는 Long으로 할 필요가 없다. id는 insert 이전에 값이 없어야하지만, size는 소문자 기본타입 long으로 해도 된다. 

멤버 DTO에서 Map이 아니다. 중복된 권한을 여러개 가질 필요가 없기 때문에 Set<MemberPermission>이 좋다.

-Set 자료구조에 들어가야하는 객체는 유일하다. 유일하다는 것은 어떻게 알 수 있을까? Set에 들어가는 객체가 유일하다. 이를 검사하기 위해서 해쉬 알고리즘이 사용된다. equals, hashCode 메소드를 오버라이딩. hashCode가 같고 equals가 다르면 다른 객체다. 둘다 같으면 같은 객체다. 

오브젝트의 객체를 사용하게되면 유일성이 보장이 안된다. 

Key로 사용되는 객체도 equals, hashCode를 오버라이딩 해주어야한다.

메인은 지우자. 

usingGeneratedKeyColumns : 프라이머리 키만 적으면 된다. 

롬복을 쓰면 이펙티브 자바의 빌더 패턴을 사용할 수도 있음. 그런데 왜 쓰는지는 알아야함.

인터페이스를 만들어야한다면 꼭 이유가 있어야한다. 

인터페이스는 하나의 아티텍쳐다. 

인터페이스를 사용할 땐 확실한 철학이 있어야한다. 사용하지 않을때도 철학이 있어야한다.

문서를 만든다면 이런 이유도 들어가야한다. 

System.out.println은 배포될 때 반드시 빠져야한다. 롬복의 @Log를 사용하는 것이 좋다. 

레이어 별로 Exception 객체를 만들어라. 

null을 리턴한 것은 문제가 없었다는 것. 무조건 틀렸다는 것은 아니다. 

모든 상황에 예외가 발생할 수 있게 해줘라.

Spring 프로퍼티스 객체.

value 에노테이션 방법 등 여러가지 방법이 있다.

sql을 별도로 만드는 것은 좋은 방법입니다.

자바에서 groovy라는 언어를 사용할 수 있음. 그루비에서는 멀티라인을 지원해준다. 그루비 파일로 따로 만들 수 있다.



프로젝트를 할 때 핵심인 부분부터 빨리 만드는 것이 제일 중요하다. 

게시판에서 핵심은 댓글, 답글, 페이징 처리(목록보기)

게시판 글 쓸 때 태그를 입력하게 하면 안된다. 

자바스크립트 코드를 실행할 수 있기 때문에 세션 하이제킹 등을 할 수 있다. 

웹 보안 관련 내용은 꾸준히 공부해야한다. 개발 할 때 적용해야한다.



---







과제 : 

- 문서를 작성하자 
  - 우리가 만든 소스를 기반으로 문서를 작성하자. 코드에서 일부분만 발췌해서 쭉쭉 나갈 수 있다.
  - 프로젝트 생성, 초기 설정
  - 디비 모델링, 테이블 작성 스크립트, 기본 데이터(관리자 정보, roll 정보 등)

* 기능별로 구현 순서를 코드와 함께 설명한다. 
  * 각각의 블로그에 따로 올린다. 스프링을 이용한 게시판 작성. 
  * 계층형 게시판을 ~~ 이유로 작성하려고 한다. 이런 식으로
    * 회원가입
    * 로그인
    * 글쓰기
    * 목록보기
    * 상세보기
    * 댓글달기
    * 답글달기
    * 상세보기 아래에 댓글목록 보여주기
    * 수정하기, 삭제하기
    * (가능하다면)간단한 관리자 기능 (다음주에 꾸준히 하자)
* 글 끝에는 부족한 점, 앞으로의 계획
  * 예) Session을 사용하여 로그인 처리-> Spring Security로 변경
  * ...
* **여러분들이 만든 게시판을 무슨 수를 쓰더라도 인터넷에 실제 사용할 수 있도록 Publish 한다.** 
* 비용이 발생하지 않는 방법도 찾아보자. 





---

인터넷에 

servlet java config 라고 검색



서블릿에서 제공해주는 WebApplicationInitializer 

web.xml 을 자동으로 만들어주는 것 

spring mvc는 한단계 더 나가서 스프링이 제공해줌. 

배포 시 가장 빠른 방법은 web.xml을 사용하는 것. 



