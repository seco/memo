어떤 태도를 가져야할까?

스크럼 미팅 : 스크럼 방법론 중 하나.

애자일?

설명하는 훈련을 해야한다.

내 장점을 극대화하자. 장점을 

혼자 개발할때도 깃허브를 써라.

잘하는 개발자 중에도 학원 출신도 많다. 혼자 공부할 수 있는 사람.

스스로의 필살기를 만들어라. 장점을 극대화하라.



스프링의 개념

미들웨어의 개념에서 부터 시작(대표적인 턱시도) : C 언어로 개발, 트랜젝션 처리가 주된 일

트랜젝션  하나의 논리적인 작업단위. 

ex) 출금(계좌에서 돈을 출금하겠다.)

1. 계좌 잔액 조회
2. 조회결과 >=돈
3. 잔액수정(총액-출금액)
4. 로그 저장

3번까지 성공했는데 4번에서 실패했다면 1번까지 roll back해야한다.

4번까지 했을때 DB에 반응하는 것을 commit;이라고 한다. 

1-4까지가 논리적인 하나의 단위이다. 

트랜젝션 : 논리적인 하나의 작업 단위.

개발자가 commit, rollback을 신경쓰면서 개발을 해주어야한다.

|

시간이 지나면서 객체지향, 분산환경의 등장

초창기 유명한 언어 중 하나는 스몰톡이 있었다. 

SUN에서 JAVA를 개발 

그 당시에는 상용 유닉스 시스템이 보편적으로 기업에서 사용.

그 당시 환경은 객체지향이 뜨고 있었고, RMI라는 기술로 인해 분산환경에서도 쓸 수 있었고, 유닉스를 사용하고 있었다. 

EJB라는 기술로 트랜젝션 처리를 자동으로 해줬다. 개발자가 commit, rollback을 해주지 않아도 된다. 

문제는 너무 어려웠다. Hello 하나 찍으려면 파일을 최소 4개를 찍어야함. 

Build 과정도 순탄하지 않았음. 

갑자기 예전 기억 : 취업자 대상으로 2주 -4주 교육을 하셨음. > 삼성SDS에서 신입사원을 짧은 시간에 경력 2-3년차로 만들어라. 밤 10시까지 4주간 수업. 

EJB(JEE 개념 중 하나)를 사용하니까 너무 어려웠다. 

로드존슨이라는 사람이 EJB를 개선하는 코드(예제 3만개!?)를 모아서 책을 냄.

이것을 기반으로 오픈소스로 스프링이라는 프로젝트가 만들어짐.

스프링은 EJB가 하는걸 쉬운 방법으로 할 수 있다. 

EJB까지는 자바 개발자의 겨울이었다가 겨울이 지나는 스프링이라는 것으로 명명.

기타 여러가지 프로젝트가 스프링에 합류.

자바 진영에서는 실질적 표준이 됨.

중요한 것은 뭔가를 자동으로 한다는 것. 

이것은 개입이 일어나야한다. 뭔가를 작성하면 다른 곳에 영향을 준다는 말임(누군가가 해주니까)

누군가가 만든 객체가 있고 거기에 내가 만든 객체를 삽입하는 것. 

코드를 자동으로 삽입하기 위한 기술은 리플렉션. > 스프링의 핵심 기술.

|

스프링의 가장 큰 특징은 DI 컨테이너, 경량컨테이너, Bean컨테이너라고 한다. (다 같은말이라고 생각하면 된다.)

스프링은 EJB와 비교했을때 경량컨테이너.

DI : 의존성주입.

Bean 컨테이너 : 스프링이 관리해주는 객체. > 미니와스가 미리 객체를 생성해놓고 관리하는 것처럼. 

컨테이너가 객체를 생성을 하는 것. 스프링이 객체를 대신 생성해주고 관리하는 것임. 스프링이 관리해주는 객체. > bean. 



Bean을 생성하는 방법. 

1. 컴포넌트 스캔.

   1. 특정 패킷 이하에서 객체를 찾아서 자동으로 등록.
   2. @Component, @Service, @Controller, @Repository .. (클래스)
   3. @Component는 서비스, 컨트롤러, 레파지토리를 모두 포함하고 있다. 
   4. 빈을 생성하는 제일 간단한 방법. 
   5. 위의 에노테이션을 다 찾아서 객체를 생성해주는 것. 
   6. 스프링이 관리해주는 객체 : Bean

2. 설정파일 : XML 파일에서 Bean을 등록하는 방법. (XML 파일이란 스프링 설정 파일)

3. 설정파일 : JAVA Config에서 설정해주는 것 : @Bean이 붙어있는 메소드에서 생성(대세가 되고있다.)



그럼 스프링이 왜 Bean을 관리해줘야하는가?

1. 자동으로 처리해주는 것이 필요함. > 개입이 일어나야한다. 
2. 스프링이 생성된 객체에 조작을 가한다. 자동으로 어떤 처리(트랜젝션 같은)가 필요할 때 기능들을 추가함.
3. 의존성 주입을 위해서 



아까 그 작가가 쓴 책에 보면 이런 내용이 나온다. 

써블릿. JSP, JDBC, EJB 등등은 JEE에 들어있는 기술이다. 

스프링 만든 사람은 JEE에 있는 것을 쉽게 사용하기 위해서 만든것. 

스프링 만든 사람은 JEE=>JAVA=>OOP라는 개념이 더 중요하다고 생각함.

객체지향을 잘하기 위한 것은 디자인 패턴을 공부하면 좋다고 했었다. 

디자인 패턴은 생성, 구조, 행위를 고민한다. 

디자인패턴에서 DI가 등장하는 전략부분에 등장한다.

이것은 전략을 쉽게 바꿀 수 있는 패턴이다. 

바둑두는 방법을 Interface로 만들었다고 정의함.

예를 들면

바둑두는 방법 interface가 있다. 규칙은 모두 똑같다. 

바둑두는 방법을 가지는 Player가 있다고 하면.

class Player {

//바둑두는 방법 method();

}

실제로는 바둑두는 방법을 실행하는 클래스가 있다. 

인터페이스를 가진다는 것은 구현하는 여러 객체들 중 하나를 가질 수 있다는 말이다. 

이 방법을 좀 더 쉽게 만들면 안될까 하는 방법을 고민한 것. 프레임워크 수준에서.

DI는 왜 등장했느냐? : 객체지향을 조금 더 잘하자는 개념에서 출발한 것. 

이것을 잘하자는 개념이 패턴으로 있는데 이 중 전략을 바꾸는 패턴이 있는 것이고 누가 누구를 가지고 있는데 

가지고 있는 대상을 쉽게 바꿔주는 것. 그것을 프레임워크 수준에서 바꿔주는 것. 

근원을 살펴봐야한다. > 어떤 생각으로 만들었는지, 왜 만들었는지에 더 주목하라. 그것이 철학이 되는 것. 

애시당초 스프링이 없을때도 객체를 교체하기 위한 방법은 있었던 것. 

생성까지는 빈 컨테이너 가져야하니까 넣어주어야한다. 넣어주는 부분은 DI컨테이너라고 한다. 

AOP컨테이너. 자동으로 트랜젝션을 생성하는 컨테이너이다. 



프로그램 짤 때 메소드를 보면 

method1() 			method2()			method3()

출금				상세보기()			회원가입()



객체지향 > 관련된 메소드를 가지고 있어야한다. 관련된 메소드를 잘 가지고 있는 객체를 응집도가 높다고 한다. 

A를 사용하려고 하니까 B, C 가 딸려와서 사용해야할때 결합도가 높다고 한다. 

객체지향(재사용을 가능하게 하기 위해)은 응집도는 높아야하고 결합도는 낮아야한다. 

모든 메소드마다 로그를 남겨야할때가 있다. 

성격에 따라서 객체가 나눠진다. 성격에 관계없이 로그를 남겨야한다. exception이 발생했을 때도 로그를 남겨야한다. 이런 코드는 객체지향적인 것이 아니다. 객체지향적인 문제를 봤을 때 괴롭히는 문제가 된다. 

로그남기는 코드를 짰는데 다음날 코드를 빼라고 할때가 있다. 

트렌젝션 코드도 똑같다. exception이 발생했을 때 rollback, 메소드 시작할때는 트렌젝션 시작, 메소드가 끝나면 commit해야함. 

이를 해결하기 위해서 AOP라는 개념이 등장. (관점 지향 프로그래밍) 

로그만 만드는 전문적인 클래스를 만든다 > 어드바이스라고 한다. 

로그가 필요한 위치(join point)에 어드바이스가 있었으면 좋겠다. 

메소드가 시작할 때 로그만 남기는 것이 아니기 때문에 여러가지 어드바이스가 있을 수 있다. 

어떤 어드바이스가 어떤 위치에서 실행하느냐가 중요하다. 

어떤 조인포인트와 어떤 어드바이스를 매핑해주는 것을 포인트 컷(Point Cut)이라고 한다. 



스프링은 AOP를 지원함으로써 메서드가 실행될때 자동으로 코드를 끼워넣기 할 수 있다. 

알고리즘을 짤 때 위에서 아래로 짤 때 종단 관심사라고 한다. 

상관없는 객체에도 동일한 기능이 추가되어야할때는 횡단 관심사라고 한다. 

횡단 관심사를 자동으로 추가하고 싶다 > 스프링 개발자가.

횡단관심사를 쉽게 해주는 것 AOP



Join Point, Advice, Point cut을 합친 개념 > Aspect

단어는 암기!

AOP가 왜 필요한지 한줄 설명

AOP에 등장하는 개념 설명.



BoardService 객체에 add(), get() 메서드가 있는 것. 

클래스 위에 @Service가 있다. 스프링 빈 컨테이너가 메모리를 빈 컨테이너에 등록해준다. 

BoardService 객체를 생성하면 상속받고 있는 Proxy 객체가 자동으로 만들어진다. 

메서드를 오버라이딩한다. proxy 객체가 super.add();를 실행한다.

로그를 남기는 프로그램 이후에 super.add() 실행.

controller 객체가 BoardService를 갖는다. 

**객체를 소스코드 없이 메모리에 생성할 수 있는 객체가 있다.** 



스프링을 이용해서 개발할때는 두가지 경우의 사람이 있다. 

스프링컨테이너는 지니

지니는 미리 알라딘이 만들어줄걸 만들어놔야한다.

사용하는 사람 입장은 알라딘임.

스프링은 두가지 관점. > 

1. 내부적으로 bean을 생성해서 메모리에 올리고, 빈과 빈을 주입해주는 것.

2. 이용하는 측면



mxl 파일에다가 쭉 등록하는 방법을 알아야함. xml에서 주입하는 방법. xml 설정하는 방법은 스프링을 만든 사람이 만든 것. 

xml 



* 의존성 주입이란?

의존성에 대해서 먼저 알아야한다. 

의존성이란 쉽게 말해서 new라고 볼 수 있다. 

전체가 부분에 의존한다고 기억하면 쉽다. 

자동차를 예로 들면, 

자동차를 만들기 위해서는 타이어가 필요하다. 

타이어 클래스를 만들고 자동차 클래스에서 타이어의 인스턴스를 불러들여야한다. 이를 자동차가 타이어에 의존한다는 것.

스프링 사이트에서 문서를 보면 다 나와있다.



* 오늘의 숙제

  XML이 무엇이냐?

  1. XML문서를 작성하는 방법에 대하여 조사하시오.
  2. XML의 name space가 무엇인지 조사하시오.
  3. XML 스키마가 무엇인지 조사하시오.
  4. XML 파일 작성 방법! 현장에서 다룰일이 많다. 
  5. DI라고 불리는 프로젝트 (java config, xml config가 있다.)에서 소스코드 분석. 
  6. 스프링에서 xml 설정파일을 작성하는 법. 가장 좋은 방법은 spring 사이트.
  7. java config 작성법. (목요일 설명)





Spring의 xml 파일은 beans라는 root element(요소)를 가진다. 



* XML이란(Extensible Markup Language)